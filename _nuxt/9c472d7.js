(window.webpackJsonp=window.webpackJsonp||[]).push([[20,5,9,11],{354:function(e,t,r){"use strict";var n=r(148),l=r(149);r(150);t.a=new(function(){function e(){Object(n.a)(this,e),this.url="https://api-portofolio.misilidik.com",this.endPoint={index:"",auth:"/auth","technology-category":"/technology-category",technology:"/technology",client:"/client",portofolio:"/portofolio"},this.importEndpoint={inventory:"/import/inventory"},this.exportEndpoint={inventory:"/export/inventory"},this.storage={banner:"/storage/uploads/banner"}}return Object(l.a)(e,[{key:"generateEndpointQuery",value:function(e,t){var r=[];for(var n in t)""!=t[n]&&null!=t[n]&&r.push([n,t[n]].join("="));return e+"?"+r.join("&")}}]),e}())},355:function(e,t,r){"use strict";var n=r(19),l=r(148),o=r(149),d=(r(16),r(33),r(39),r(150),r(362)),c=r.n(d);t.a=new(function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getErrorMassage",value:function(data){var e="",t=data.errors;return Object.keys(t).forEach((function(element){e+=" "+t[element].join()})),e}},{key:"handleError",value:function(e){return"object"===Object(n.a)(e)&&"response"in e?422==e.response.status?this.getErrorMassage(e.response.data):e.response.data.message?e.response.data.message:"Network error":e}},{key:"get422Error",value:function(e){var t=[];return"object"===Object(n.a)(e)&&"response"in e&&422==e.response.status&&(t=e.response.data.errors),t}},{key:"displayError",value:function(e){var t=this.handleError(e);return c.a.fire({title:"Error",text:t,icon:"error"})}}]),e}())},357:function(e,t,r){"use strict";r.r(t);var n={props:{label:{type:String,required:!0},loading:{type:Boolean,required:!1,default:!1},icon:{type:String,required:!1,default:"bx-send"},buttonClass:{type:String,required:!1,default:"btn-primary"},type:{type:String,required:!1,default:"button"}},methods:{}},l=r(2),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",[t("button",{staticClass:"btn",class:e.buttonClass,attrs:{disabled:e.loading,type:e.type},on:{click:function(t){return e.$emit("click")}}},[e.loading?t("i",{staticClass:"bx mr-2 bx-loader bx-spin"}):t("i",{staticClass:"bx mr-2",class:"bx-"+e.icon}),e._v("\n\t\t"+e._s(e.label)+"\n\t")])])}),[],!1,null,"0fa90453",null);t.default=component.exports},363:function(e,t,r){"use strict";var n=r(148),l=r(149);r(16),r(33),r(32);t.a=new(function(){function e(){Object(n.a)(this,e)}return Object(l.a)(e,[{key:"can",value:function(e){var t=!1,r=JSON.parse(localStorage.getItem("permissions"));return r&&r.forEach((function(element){element.name==e&&(t=!0)})),t}},{key:"isAdmin",value:function(e){return!0}},{key:"isRecident",value:function(){return"recident"==localStorage.getItem("access")}},{key:"getAssigned",value:function(){return JSON.parse(localStorage.getItem("assign"))}},{key:"user",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"assign",value:function(){return JSON.parse(localStorage.getItem("assign"))}},{key:"village",value:function(){return{name:"",id:1}}}]),e}())},364:function(e,t,r){"use strict";r.r(t);var n={props:{label:{type:String,required:!0,default:"Label"},type:{type:String,required:!1,default:"text"},required:{type:Boolean,required:!1,default:!0},value:{required:!1},id:{type:String,required:!1,default:""},errors:{required:!1,default:!0},autofocus:{type:Boolean,required:!1,default:!0}},methods:{handleInput:function(e){this.$emit("input",e.target.value)}}},l=r(2),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-inline items-start flex-col xl:flex-row mt-5 pt-5 first:mt-0 first:pt-0"},[t("div",{staticClass:"form-label xl:w-64 xl:!mr-10"},[t("div",{staticClass:"text-left"},[t("div",{staticClass:"flex items-center"},[t("div",{staticClass:"font-medium"},[e._v(e._s(e.label))]),e._v(" "),e.required?t("div",{staticClass:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 text-xs rounded-md"},[e._v("\n\t\t\t\t\tRequired")]):e._e()])])]),e._v(" "),t("div",{staticClass:"w-full mt-3 xl:mt-0 flex-1"},[t("input",{staticClass:"form-control",class:{"border-danger":e.errors[e.id]},attrs:{id:"product-name",type:e.type,placeholder:e.label,required:e.required,autofocus:e.autofocus},domProps:{value:e.value},on:{input:e.handleInput}}),e._v(" "),e.errors[e.id]?t("div",{staticClass:"form-help text-right text-danger"},[e._v(e._s(e.errors[e.id][0]))]):e._e()])])}),[],!1,null,"3a94e27f",null);t.default=component.exports},365:function(e,t,r){"use strict";r.r(t);r(16),r(41),r(42),r(367),r(232);var n={props:{label:{type:String,required:!0,default:"Label"},image_url:{type:String,required:!1,default:null},required:{type:Boolean,required:!1,default:!0},value:{required:!1},id:{type:String,required:!1,default:""},errors:{required:!1,default:!0}},data:function(){return{image_picked:null,image_preview:null}},watch:{image_url:{immediate:!0,handler:function(e,t){this.image_preview=e}}},methods:{handleInput:function(e){this.$emit("input",e.target.files[0])},filesChange:function(e){this.image_picked=e.target.files[0],this.image_preview=URL.createObjectURL(this.image_picked),this.$emit("input",this.image_picked)},browseFile:function(){this.$refs.inputFile.click()}}},l=r(2),component=Object(l.a)(n,(function(){var e,t=this,r=t._self._c;return r("div",{staticClass:"form-inline items-start flex-col xl:flex-row mt-10"},[r("div",{staticClass:"form-label w-full xl:w-64 xl:!mr-10"},[r("div",{staticClass:"text-left"},[r("div",{staticClass:"flex items-center"},[r("div",{staticClass:"font-medium"},[t._v(t._s(t.label))]),t._v(" "),t.required?r("div",{staticClass:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 dark:bg-darkmode-300 dark:text-slate-400 text-xs rounded-md"},[t._v("\n                        Required")]):t._e()]),t._v(" "),t._m(0)])]),t._v(" "),r("div",{staticClass:"w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed rounded-md pt-4",class:{"border-danger":t.errors[t.id]}},[r("div",{staticClass:"flex flex-wrap justify-center items-center"},[r("div",{staticClass:"h-28 w-36 image-fit cursor-pointer zoom-in",on:{click:function(e){return t.browseFile()}}},[r("img",{staticClass:"rounded-md",attrs:{alt:"Midone - HTML Admin Template",src:null!==(e=t.image_preview)&&void 0!==e?e:"/dist/images/preview-11.jpg"}})])]),t._v(" "),r("div",{staticClass:"px-4 pb-4 mt-5 flex items-center justify-center cursor-pointer relative"},[r("i",{staticClass:"w-4 h-4 mr-2 bx bx-image"}),t._v(" "),r("span",{staticClass:"text-primary mr-1 cursor-pointer"},[t._v("Upload a file")]),t._v(" "),r("input",{ref:"inputFile",staticClass:"w-full h-full top-0 left-0 absolute opacity-0",attrs:{id:"horizontal-form-1",type:"file",accept:"image/png, image/jpeg, image/jpg, .webp"},on:{change:function(e){return t.filesChange(e)}}})])]),t._v(" "),t.errors[t.id]?r("div",{staticClass:"w-full"},[r("div",{staticClass:"form-help text-right text-danger"},[t._v(t._s(t.errors[t.id][0]))])]):t._e()])}),[function(){var e=this._self._c;return e("div",{staticClass:"leading-relaxed text-slate-500 text-xs mt-3"},[e("div",[this._v("The image format is .jpg .jpeg .png and a minimum size of 300 x 300 pixels (For optimal images\n                        use a minimum size of 700 x 700 pixels).")])])}],!1,null,"19babf16",null);t.default=component.exports},400:function(e,t,r){"use strict";r.r(t);r(32),r(35),r(52);var n=r(11),l=(r(51),r(355)),o=r(354),d=(r(363),{created:function(){var e=this.$route.query;e.id&&(this.payload.id=e.id,this.getItem(),this.title="Edit")},data:function(){return{title:"Tambah",load:!1,errors:[],image_preview:null,payload:{id:null,name:null,email:null,phone_number:null,address:null,description:null,pict:null,_method:"POST"}}},methods:{back:function(){this.$router.back()},getItem:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get(o.a.endPoint.client+"/".concat(e.payload.id));case 2:r=t.sent,n=r.data.data,e.assignParams(n);case 5:case"end":return t.stop()}}),t)})))()},assignParams:function(e){this.payload.id=e.id,this.payload.name=e.name,this.payload.email=e.email,this.payload.phone_number=e.phone_number,this.payload.address=e.address,this.payload.description=e.description,this.image_preview=e.pict_url,this.payload._method=e.id?"PUT":"POST"},submit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,d,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n in t.prev=0,e.load=!0,r=new FormData,e.payload)r.append(n,null!==(d=e.payload[n])&&void 0!==d?d:"");return t.next=6,e.$axios.post(o.a.endPoint.client+(e.payload.id?"/".concat(e.payload.id):""),r);case 6:c=t.sent,e.load=!1,200==c.status&&(e.$swal.fire({title:"Berhasil",text:"data berhasil disimpan",icon:"success"}),e.$router.push({name:"admin-client"})),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),e.errors=l.a.get422Error(t.t0),e.load=!1,l.a.displayError(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}}),c=r(2),component=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"intro-y box mt-5"},[t("div",{staticClass:"flex flex-col sm:flex-row items-center p-5 border-b border-slate-200/60 dark:border-darkmode-400"},[t("h2",{staticClass:"font-medium text-base mr-auto"},[e._v("\n\t\t\t"+e._s(e.title)+" Klien\n\t\t")])]),e._v(" "),t("div",{staticClass:"p-5",attrs:{id:"input"}},[t("div",{staticClass:"preview"},[t("form",{attrs:{action:"",autofocus:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("form-input-text",{attrs:{label:"Nama",id:"name",errors:e.errors},model:{value:e.payload.name,callback:function(t){e.$set(e.payload,"name",t)},expression:"payload.name"}}),e._v(" "),t("form-input-text",{attrs:{label:"Email",type:"email",id:"email",errors:e.errors},model:{value:e.payload.email,callback:function(t){e.$set(e.payload,"email",t)},expression:"payload.email"}}),e._v(" "),t("form-input-text",{attrs:{label:"Nomor HP",type:"number",id:"phone_number",errors:e.errors},model:{value:e.payload.phone_number,callback:function(t){e.$set(e.payload,"phone_number",t)},expression:"payload.phone_number"}}),e._v(" "),t("form-input-text",{attrs:{label:"Alamat",id:"address",errors:e.errors},model:{value:e.payload.address,callback:function(t){e.$set(e.payload,"address",t)},expression:"payload.address"}}),e._v(" "),t("form-input-text",{attrs:{label:"Deskripsi",id:"description",errors:e.errors},model:{value:e.payload.description,callback:function(t){e.$set(e.payload,"description",t)},expression:"payload.description"}}),e._v(" "),t("form-input-image",{attrs:{label:"Logo",id:"pict",errors:e.errors,image_url:e.image_preview},model:{value:e.payload.pict,callback:function(t){e.$set(e.payload,"pict",t)},expression:"payload.pict"}}),e._v(" "),t("div",{staticClass:"flex justify-end flex-col md:flex-row gap-2 mt-5"},[t("base-button",{attrs:{label:"Batal",icon:"reset",buttonClass:"border-slate-300 w-full md:w-52"},on:{click:function(t){return e.back()}}}),e._v(" "),t("base-button",{attrs:{label:"Simpan",icon:"save",type:"submit",buttonClass:"btn-primary w-full md:w-52",loading:e.load}})],1)],1)])])])}),[],!1,null,"c478604a",null);t.default=component.exports;installComponents(component,{FormInputText:r(364).default,FormInputImage:r(365).default,BaseButton:r(357).default})}}]);