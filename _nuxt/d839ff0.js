(window.webpackJsonp=window.webpackJsonp||[]).push([[23,5,9,10,11],{354:function(t,e,r){"use strict";var n=r(148),l=r(149);r(150);e.a=new(function(){function t(){Object(n.a)(this,t),this.url="https://api-portofolio.misilidik.com",this.endPoint={index:"",auth:"/auth","technology-category":"/technology-category",technology:"/technology",client:"/client",portofolio:"/portofolio"},this.importEndpoint={inventory:"/import/inventory"},this.exportEndpoint={inventory:"/export/inventory"},this.storage={banner:"/storage/uploads/banner"}}return Object(l.a)(t,[{key:"generateEndpointQuery",value:function(t,e){var r=[];for(var n in e)""!=e[n]&&null!=e[n]&&r.push([n,e[n]].join("="));return t+"?"+r.join("&")}}]),t}())},355:function(t,e,r){"use strict";var n=r(19),l=r(148),o=r(149),d=(r(16),r(33),r(39),r(150),r(362)),c=r.n(d);e.a=new(function(){function t(){Object(l.a)(this,t)}return Object(o.a)(t,[{key:"getErrorMassage",value:function(data){var t="",e=data.errors;return Object.keys(e).forEach((function(element){t+=" "+e[element].join()})),t}},{key:"handleError",value:function(t){return"object"===Object(n.a)(t)&&"response"in t?422==t.response.status?this.getErrorMassage(t.response.data):t.response.data.message?t.response.data.message:"Network error":t}},{key:"get422Error",value:function(t){var e=[];return"object"===Object(n.a)(t)&&"response"in t&&422==t.response.status&&(e=t.response.data.errors),e}},{key:"displayError",value:function(t){var e=this.handleError(t);return c.a.fire({title:"Error",text:e,icon:"error"})}}]),t}())},357:function(t,e,r){"use strict";r.r(e);var n={props:{label:{type:String,required:!0},loading:{type:Boolean,required:!1,default:!1},icon:{type:String,required:!1,default:"bx-send"},buttonClass:{type:String,required:!1,default:"btn-primary"},type:{type:String,required:!1,default:"button"}},methods:{}},l=r(2),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("button",{staticClass:"btn",class:t.buttonClass,attrs:{disabled:t.loading,type:t.type},on:{click:function(e){return t.$emit("click")}}},[t.loading?e("i",{staticClass:"bx mr-2 bx-loader bx-spin"}):e("i",{staticClass:"bx mr-2",class:"bx-"+t.icon}),t._v("\n\t\t"+t._s(t.label)+"\n\t")])])}),[],!1,null,"0fa90453",null);e.default=component.exports},363:function(t,e,r){"use strict";var n=r(148),l=r(149);r(16),r(33),r(32);e.a=new(function(){function t(){Object(n.a)(this,t)}return Object(l.a)(t,[{key:"can",value:function(t){var e=!1,r=JSON.parse(localStorage.getItem("permissions"));return r&&r.forEach((function(element){element.name==t&&(e=!0)})),e}},{key:"isAdmin",value:function(t){return!0}},{key:"isRecident",value:function(){return"recident"==localStorage.getItem("access")}},{key:"getAssigned",value:function(){return JSON.parse(localStorage.getItem("assign"))}},{key:"user",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"assign",value:function(){return JSON.parse(localStorage.getItem("assign"))}},{key:"village",value:function(){return{name:"",id:1}}}]),t}())},364:function(t,e,r){"use strict";r.r(e);var n={props:{label:{type:String,required:!0,default:"Label"},type:{type:String,required:!1,default:"text"},required:{type:Boolean,required:!1,default:!0},value:{required:!1},id:{type:String,required:!1,default:""},errors:{required:!1,default:!0},autofocus:{type:Boolean,required:!1,default:!0}},methods:{handleInput:function(t){this.$emit("input",t.target.value)}}},l=r(2),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-inline items-start flex-col xl:flex-row mt-5 pt-5 first:mt-0 first:pt-0"},[e("div",{staticClass:"form-label xl:w-64 xl:!mr-10"},[e("div",{staticClass:"text-left"},[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"font-medium"},[t._v(t._s(t.label))]),t._v(" "),t.required?e("div",{staticClass:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 text-xs rounded-md"},[t._v("\n\t\t\t\t\tRequired")]):t._e()])])]),t._v(" "),e("div",{staticClass:"w-full mt-3 xl:mt-0 flex-1"},[e("input",{staticClass:"form-control",class:{"border-danger":t.errors[t.id]},attrs:{id:"product-name",type:t.type,placeholder:t.label,required:t.required,autofocus:t.autofocus},domProps:{value:t.value},on:{input:t.handleInput}}),t._v(" "),t.errors[t.id]?e("div",{staticClass:"form-help text-right text-danger"},[t._v(t._s(t.errors[t.id][0]))]):t._e()])])}),[],!1,null,"3a94e27f",null);e.default=component.exports},365:function(t,e,r){"use strict";r.r(e);r(16),r(41),r(42),r(367),r(232);var n={props:{label:{type:String,required:!0,default:"Label"},image_url:{type:String,required:!1,default:null},required:{type:Boolean,required:!1,default:!0},value:{required:!1},id:{type:String,required:!1,default:""},errors:{required:!1,default:!0}},data:function(){return{image_picked:null,image_preview:null}},watch:{image_url:{immediate:!0,handler:function(t,e){this.image_preview=t}}},methods:{handleInput:function(t){this.$emit("input",t.target.files[0])},filesChange:function(t){this.image_picked=t.target.files[0],this.image_preview=URL.createObjectURL(this.image_picked),this.$emit("input",this.image_picked)},browseFile:function(){this.$refs.inputFile.click()}}},l=r(2),component=Object(l.a)(n,(function(){var t,e=this,r=e._self._c;return r("div",{staticClass:"form-inline items-start flex-col xl:flex-row mt-10"},[r("div",{staticClass:"form-label w-full xl:w-64 xl:!mr-10"},[r("div",{staticClass:"text-left"},[r("div",{staticClass:"flex items-center"},[r("div",{staticClass:"font-medium"},[e._v(e._s(e.label))]),e._v(" "),e.required?r("div",{staticClass:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 dark:bg-darkmode-300 dark:text-slate-400 text-xs rounded-md"},[e._v("\n                        Required")]):e._e()]),e._v(" "),e._m(0)])]),e._v(" "),r("div",{staticClass:"w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed rounded-md pt-4",class:{"border-danger":e.errors[e.id]}},[r("div",{staticClass:"flex flex-wrap justify-center items-center"},[r("div",{staticClass:"h-28 w-36 image-fit cursor-pointer zoom-in",on:{click:function(t){return e.browseFile()}}},[r("img",{staticClass:"rounded-md",attrs:{alt:"Midone - HTML Admin Template",src:null!==(t=e.image_preview)&&void 0!==t?t:"/dist/images/preview-11.jpg"}})])]),e._v(" "),r("div",{staticClass:"px-4 pb-4 mt-5 flex items-center justify-center cursor-pointer relative"},[r("i",{staticClass:"w-4 h-4 mr-2 bx bx-image"}),e._v(" "),r("span",{staticClass:"text-primary mr-1 cursor-pointer"},[e._v("Upload a file")]),e._v(" "),r("input",{ref:"inputFile",staticClass:"w-full h-full top-0 left-0 absolute opacity-0",attrs:{id:"horizontal-form-1",type:"file",accept:"image/png, image/jpeg, image/jpg, .webp"},on:{change:function(t){return e.filesChange(t)}}})])]),e._v(" "),e.errors[e.id]?r("div",{staticClass:"w-full"},[r("div",{staticClass:"form-help text-right text-danger"},[e._v(e._s(e.errors[e.id][0]))])]):e._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"leading-relaxed text-slate-500 text-xs mt-3"},[t("div",[this._v("The image format is .jpg .jpeg .png and a minimum size of 300 x 300 pixels (For optimal images\n                        use a minimum size of 700 x 700 pixels).")])])}],!1,null,"19babf16",null);e.default=component.exports},368:function(t,e,r){"use strict";r.r(e);r(32);var n={props:{label:{type:String,required:!0,default:"Label"},items:{type:Array,required:!0,default:null},required:{type:Boolean,required:!1,default:!0},value:{required:!1},id:{type:String,required:!1,default:""},errors:{required:!1,default:!0}},methods:{handleInput:function(t){this.$emit("input",t.target.value)}}},l=r(2),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-inline items-start flex-col xl:flex-row mt-5 pt-5 first:mt-0 first:pt-0"},[e("div",{staticClass:"form-label xl:w-64 xl:!mr-10"},[e("div",{staticClass:"text-left"},[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"font-medium"},[t._v(t._s(t.label))]),t._v(" "),t.required?e("div",{staticClass:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 text-xs rounded-md"},[t._v("\n                    Required")]):t._e()])])]),t._v(" "),e("div",{staticClass:"w-full mt-3 xl:mt-0 flex-1"},[e("select",{staticClass:"form-select",class:{"border-danger":t.errors[t.id]},attrs:{id:t.id,required:t.required},domProps:{value:t.value},on:{change:t.handleInput}},[e("option",{attrs:{value:""}},[t._v("Pilih "+t._s(t.label))]),t._v(" "),t._l(t.items,(function(r){return e("option",{key:r.id,domProps:{value:r.id}},[t._v("\n                "+t._s(r.name)+"\n            ")])}))],2),t._v(" "),t.errors[t.id]?e("div",{staticClass:"form-help text-right text-danger"},[t._v(t._s(t.errors[t.id][0]))]):t._e()])])}),[],!1,null,"19c129a6",null);e.default=component.exports},401:function(t,e,r){"use strict";r.r(e);r(32),r(35),r(52);var n=r(11),l=(r(238),r(16),r(33),r(51),r(355)),o=r(354),d=(r(363),{created:function(){this.getTechnologies(),this.getClients();var t=this.$route.query;t.id?(this.payload.id=t.id,this.getItem(),this.title="Edit"):this.count.push(0)},data:function(){return{title:"Tambah",load:!1,errors:[],image_preview:[],payload:{id:null,name:null,client_id:null,description:null,technology_id:[],image:[],_method:"POST"},count:[],clients:[],technologies:[]}},methods:{back:function(){this.$router.back()},getTechnologies:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get(o.a.endPoint.technology,{params:{limit:1e3}});case 2:r=e.sent,t.technologies=r.data.data;case 4:case"end":return e.stop()}}),e)})))()},getClients:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get(o.a.endPoint.client,{params:{limit:1e3}});case 2:r=e.sent,t.clients=r.data.data;case 4:case"end":return e.stop()}}),e)})))()},addItem:function(){var a=this.count[this.count.length-1]+1;this.count.push(a),console.log(this.count)},removeItem:function(t){var e=this.count.indexOf(t);-1!==e&&(this.count.splice(e,1),this.payload.image.splice(e,1))},getItem:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get(o.a.endPoint.portofolio+"/".concat(t.payload.id));case 2:r=e.sent,n=r.data.data,t.assignParams(n);case 5:case"end":return e.stop()}}),e)})))()},assignParams:function(t){var e=this;console.log(this.image_preview,this.count),this.payload.id=t.id,this.payload.client_id=t.client_id,this.payload.name=t.name,this.payload.description=t.description,t.portofolio_technologies.forEach((function(element){e.payload.technology_id.push(element)}));for(var r=0;r<t.portofolio_images.length;r++)this.image_preview.push(t.portofolio_images[r].image_url),this.count.push(r);this.payload._method=t.id?"PUT":"POST"},submit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t.load=!0,r=new FormData,n=0;n<t.count.length;n++)t.payload.image[n]&&r.append("image[]",t.payload.image[n]);return t.payload.technology_id.forEach((function(element){var t;r.append("technology_id[]",null!==(t=element.id)&&void 0!==t?t:"")})),r.append("client_id",t.payload.client_id),r.append("name",t.payload.name),r.append("description",t.payload.description),e.next=10,t.$axios.post(o.a.endPoint.portofolio+(t.payload.id?"/".concat(t.payload.id):""),r);case 10:d=e.sent,t.load=!1,200==d.status&&(t.$swal.fire({title:"Berhasil",text:"data berhasil disimpan",icon:"success"}),t.$router.push({name:"admin-portofolio"})),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),t.errors=l.a.get422Error(e.t0),t.load=!1,l.a.displayError(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))()}}}),c=r(2),component=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"intro-y box mt-5"},[e("div",{staticClass:"flex flex-col sm:flex-row items-center p-5 border-b border-slate-200/60 dark:border-darkmode-400"},[e("h2",{staticClass:"font-medium text-base mr-auto"},[t._v("\n\t\t\t"+t._s(t.title)+" Klien\n\t\t")])]),t._v(" "),e("div",{staticClass:"p-5",attrs:{id:"input"}},[e("div",{staticClass:"preview"},[e("form",{attrs:{action:"",autofocus:""},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("form-input-text",{attrs:{label:"Nama",id:"name",errors:t.errors,required:!1},model:{value:t.payload.name,callback:function(e){t.$set(t.payload,"name",e)},expression:"payload.name"}}),t._v(" "),e("form-input-select",{attrs:{label:"Klien",id:"client_id",errors:t.errors,items:t.clients},model:{value:t.payload.client_id,callback:function(e){t.$set(t.payload,"client_id",e)},expression:"payload.client_id"}}),t._v(" "),e("form-input-text",{attrs:{label:"Deskripsi",id:"description",errors:t.errors,required:!1},model:{value:t.payload.description,callback:function(e){t.$set(t.payload,"description",e)},expression:"payload.description"}}),t._v(" "),e("div",{staticClass:"form-inline items-start flex-col xl:flex-row mt-5 pt-5 first:mt-0 first:pt-0"},[t._m(0),t._v(" "),e("div",{staticClass:"w-full mt-3 xl:mt-0 flex-1"},[e("multiselect",{attrs:{options:t.technologies,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pilih Ketegori Teknologi",label:"name","track-by":"name","preselect-first":!0},model:{value:t.payload.technology_id,callback:function(e){t.$set(t.payload,"technology_id",e)},expression:"payload.technology_id"}})],1)]),t._v(" "),e("div",{staticClass:"form-inline items-start flex-col xl:flex-row mt-2 pt-2 first:mt-0 first:pt-0"},[t._m(1),t._v(" "),e("div",{staticClass:"w-full mt-3 xl:mt-0 flex-1"},[e("div",{staticClass:"relative pl-5 pr-5 xl:pr-10 py-10 bg-slate-50 dark:bg-transparent dark:border rounded-md"},[e("div",[t._l(t.count,(function(r,i){return e("div",{key:i,staticClass:"form-inline mt-5 items-start first:mt-0"},[e("div",{staticClass:"flex-1"},[e("div",{staticClass:"xl:flex items-center mt-5 first:mt-0"},[e("div",{staticClass:"flex-1"},[e("form-input-image",{attrs:{label:"Gambar",id:"pict",errors:t.errors,image_url:t.image_preview[r]},model:{value:t.payload.image[r],callback:function(e){t.$set(t.payload.image,r,e)},expression:"payload.image[item]"}})],1),t._v(" "),e("div",{staticClass:"w-20 flex text-slate-500 mt-3 xl:mt-0"},[e("a",{staticClass:"ml-3 xl:ml-5",attrs:{href:"#"},on:{click:function(e){return t.removeItem(r)}}},[e("i",{staticClass:"w-4 h-4 bx bx-trash"})])])])])])})),t._v(" "),e("div",{staticClass:"xl:ml-20 xl:pl-5 xl:pr-20 mt-5 first:mt-0"},[e("button",{staticClass:"btn btn-outline-primary border-dashed w-full",attrs:{type:"button"},on:{click:function(e){return t.addItem()}}},[e("i",{staticClass:"w-4 h-4 mr-2 bx bx-plus"}),t._v(" Add New Image\n\t\t\t\t\t\t\t\t\t")])])],2)])])]),t._v(" "),e("div",{staticClass:"flex justify-end flex-col md:flex-row gap-2 mt-5"},[e("base-button",{attrs:{label:"Batal",icon:"reset",buttonClass:"border-slate-300 w-full md:w-52"},on:{click:function(e){return t.back()}}}),t._v(" "),e("base-button",{attrs:{label:"Simpan",icon:"save",type:"submit",buttonClass:"btn-primary w-full md:w-52",loading:t.load}})],1)],1)])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-label xl:w-64 xl:!mr-10"},[e("div",{staticClass:"text-left"},[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"font-medium"},[t._v("Ketegori Teknologi")]),t._v(" "),e("div",{staticClass:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 text-xs rounded-md"},[t._v("\n\t\t\t\t\t\t\t\t\tRequired")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-label xl:w-64 xl:!mr-10"},[e("div",{staticClass:"text-left"},[e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"font-medium"},[t._v("Galeri Portofolio")])]),t._v(" "),e("div",{staticClass:"leading-relaxed text-slate-500 text-xs mt-3"},[t._v(" Add the types of variants and\n\t\t\t\t\t\t\t\toptions, you can add up to 5 options. ")])])])}],!1,null,"38adbd35",null);e.default=component.exports;installComponents(component,{FormInputText:r(364).default,FormInputSelect:r(368).default,FormInputImage:r(365).default,BaseButton:r(357).default})}}]);